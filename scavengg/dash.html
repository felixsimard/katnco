<!DOCTYPE html>
<html>
<title>Scavengg - Dashboard</title>
<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>

<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

<!-- Favicon image -->
<link rel="shortcut icon" href="https://scavengg.com/photos/logo_ico.ico"/>

<!-- CSS and JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">

<!-- Special CSS for dashboard -->
<link rel="stylesheet" href="dash_style.css">

<script src="js/main.js"></script>
<script src="js/ajax.js"></script>
<script src="js/sms.js"></script>
<script src="js/typed.js"></script>
<script src="js/scroll.js"></script>
<script src="js/status.js"></script>
<script src="js/upload.js"></script>
<script src="js/update_img.js"></script>
<script src="js/upload_email.js"></script>
<script src="js/phone.js"></script>

<script>
function link(url) {
    window.location = url;
}
function toggleTable(elem) {
    var table = _(""+elem+"");
    if(table.style.display == "block") {
        table.style.display = 'none';
    } else {
        table.style.display = 'block';
    }
} 
function flyout(action, id) {
    _("skin").style.display = 'block';
    _("flyout").style.bottom = 0+'px';
    _("page").style.overflowY = 'hidden';
    if(action == 'view_user_cart') {
        userCart(id);
    } else if(action == "view_item_details") {
        itemDetails(id, "price_per_size");
    } else if(action == "view_transaction") {
        transactionDetails(id);
    } else if(action == "add_promo") {
        _("flyout").innerHTML = 'Add Promo<hr><input id="new_promo_input" class="dash_inputs" placeholder="Enter promo name" maxlength="25"><br><input id="new_promo_value_input" class="dash_inputs_half" placeholder="Promo value (10$, 20$)" maxlength="3"> <hr> <button class="dash_btns" onclick="addPromo()">Save</button>';
    } else if(action == "newsletter_preview") {
        newsletter("preview");
    } else if(action == "newsletter_send") {
        newsletter("send");
    } else if(action == "close") {
        _("skin").style.display = 'none';
        _("flyout").style.bottom = -90+'%';
        _("page").style.overflowY = 'auto';
    }

}
function addPromo() {
    var promo = _("new_promo_input").value;
    var value =_("new_promo_value_input").value;
    if(promo == "" || value == "") {
        status("Enter promo name and value.", "black");
    } else {
        var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
        ajax.onreadystatechange = function () {
            if (ajaxReturn(ajax) == true) {
                if(ajax.responseText.trim() == "promo_saved") {
                    flyout("close");
                    status("Promo "+promo+" added");
                    getPromotions();
                } else {
                    flyout("close");
                    status("Error adding promo.", "black");
                }
            }
        }
        ajax.send("action=add_promo&promo="+promo+"&value="+value);
    }

}
function transactionDetails(tran_id) {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function () {
        if (ajaxReturn(ajax) == true) {
            var array = ajax.responseText.split('|');
            _("flyout").innerHTML = ''+array[0];
        }
    }
    ajax.send("action=get_transaction_details&tran_id="+tran_id);
}
function savePriceSize(elem, item_id, size) {
    var price = _(""+elem+"").value;
    if(price == "") {
        status("Input price for size "+size+".");
    } else {
        //var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
        var ajax = ajaxObj("POST", 'https://katnco.ca/scavengg/php_parsers/dash.php');
        ajax.onreadystatechange = function () {
            if (ajaxReturn(ajax) == true) {
                status("Size "+size+" saved at $"+price+"");
            }
        }
        ajax.send("action=save_price_size&price="+price+"&size="+size+"&item_id="+item_id);
    }
}
function itemDetails(item_id, div_elem) {
    //var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    var ajax = ajaxObj("POST", 'https://katnco.ca/scavengg/php_parsers/dash.php');
    ajax.onreadystatechange = function () {
        if (ajaxReturn(ajax) == true) {
            var array = ajax.responseText.split('|');
            _("flyout").innerHTML = array[0];
            subcategories('update_subcategories', array[1]);
            sizeChart('update_size_chart', array[2]);
            //var string_sizes = array[3];
            //format_size_prices(string_sizes, "price_per_size");
            pricesSizes(item_id, div_elem);
            $.getScript("js/update_img.js", function() {
                return true;
            });
        }
    }
    ajax.send("action=get_item_details&item_id="+item_id);
}
function pricesSizes(item_id, div_elem) {
    //var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    var ajax = ajaxObj("POST", 'https://katnco.ca/scavengg/php_parsers/dash.php');
    ajax.onreadystatechange = function () {
        if (ajaxReturn(ajax) == true) {
            _(""+div_elem+"").innerHTML = ajax.responseText;
        }
    }
    ajax.send("action=prices_sizes_table&item_id="+item_id);
}
/*
function changedItemSize(size_id, div_elem) {
    //var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    var ajax = ajaxObj("POST", 'https://katnco.ca/scavengg/php_parsers/dash.php');
    ajax.onreadystatechange = function () {
        if (ajaxReturn(ajax) == true) {
            var string_sizes = ajax.responseText;
            format_size_prices(string_sizes, div_elem);
        }
    }
    ajax.send("action=stringify_sizes&size_id="+size_id);
}
function format_size_prices(string_sizes, div_elem) {
        var sizes_array = string_sizes.split("-");
        var sizes_table = '<table class="table table-hover console_table">';
        for(i = 0; i < sizes_array.length; i++) {
            sizes_table += '<tr>';
            sizes_table += '<th>'+ sizes_array[i] +'</th>';
            sizes_table += '</tr>';
            sizes_table += '<tr>';
            sizes_table += '<td><input class="dash_inputs_half" placeholder="Price for size '+sizes_array[i]+'" onkeypress="return event.charCode >= 48 && event.charCode <= 57" autocomplete="off" maxlength="10"></td>';
            sizes_table += '</tr>';
        }
        sizes_table += '</table>';

        _(""+div_elem+"").innerHTML = sizes_table;
}
*/ 
function userCart(uid) {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function () {
        if (ajaxReturn(ajax) == true) {
            _("flyout").innerHTML = ''+ajax.responseText;
        }
    }
    ajax.send("action=get_user_cart&uid="+uid);
}
function updateItem(item_id) {
    var caption = _("update_caption").value;
    var category = _("update_subcategories").value;
    var brand = _("update_brand").value;
    var sizes = _("update_size_chart").value;
    var season = _("update_season").value;
    if(caption == "" || brand == "" || season == "" || category == "" || sizes == "") {
        status("Fill in all the inputs to upload", "black");
    } else {
        loading("open");
        var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
        ajax.onreadystatechange = function () {
            if (ajaxReturn(ajax) == true) {
                if(ajax.responseText.trim() == 'item_updated') {
                    $('#update_settings_image').submit();
                } else {
                    status("Error updating item.", "black");
                }
            }
        }
        ajax.send("action=update_item&item_id="+item_id+"&caption="+caption+"&brand="+brand+"&season="+season+"&category="+category+"&sizes="+sizes);
    }

}
function deleteItem(item_id) {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function () {
        if (ajaxReturn(ajax) == true) {
            if(ajax.responseText.trim() == 'item_deleted') {
                flyout('close');
                status("Item deleted successfully.", "black");
                getStore();
            } else {
                status("Error deleting item.", "black");
            }
        }
    }
    ajax.send("action=delete_item&item_id="+item_id);
}
function sizeChart(elem, default_val) {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function () {
        if (ajaxReturn(ajax) == true) {
            var array = ajax.responseText.split('|');
            _(""+elem+"").innerHTML = array[0];
            if(default_val) {
                _(""+elem+"").value = default_val;
            }
            _("size_chart_ref").innerHTML = array[1];
        }
    }
    ajax.send("action=get_all_sizes");
}
function subcategories(elem, default_val) {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function () {
        if (ajaxReturn(ajax) == true) {
            var array = ajax.responseText.split('|');
            _(""+elem+"").innerHTML = array[0];
            if(default_val) {
                _(""+elem+"").value = default_val;
            }
            _("subcat_chart_ref").innerHTML = array[1];
        }
    }
    ajax.send("action=get_all_subcat");
}
function getRequests() {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Error fetching requests.", "black");
            } else {
                _("all_requests").innerHTML = ajax.responseText;
            }
        } 
    }
    ajax.send("action=get_requests");
}
function getUsers() {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Error fetching customers.", "black");
            } else {
                _("all_users").innerHTML = ajax.responseText;
            }
        } 
    }
    ajax.send("action=get_users");
}
function getStore() {
    //var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    var ajax = ajaxObj("POST", 'https://katnco.ca/scavengg/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Error fetching store.", "black");
            } else {
                _("all_store").innerHTML = ajax.responseText;
            }
        } 
    }
    ajax.send("action=get_store");
}
function getSalesOrders() {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Error fetching sales and orders.", "black");
            } else {
                var array = ajax.responseText.split('|SPLIT|');
                _("all_orders").innerHTML = array[0];
                _("all_sales").innerHTML = array[1];
            }
        } 
    }
    ajax.send("action=get_orders_sales");
}
function getTransactions() {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Error fetching transactions.", "black");
            } else {
                _("all_transactions").innerHTML = ajax.responseText;
            }
        } 
    }
    ajax.send("action=get_transactions");
}
function getPromotions() {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Error fetching promotions.", "black");
            } else {
                _("all_promotions").innerHTML = ajax.responseText;
            }
        } 
    }
    ajax.send("action=get_promotions");
}
function getNumbers() {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            var array = ajax.responseText.split('|');
            if(array[0] == ""){    
                status("Error fetching numbers for each section.", "black");
            } else {
                _("num_requests").innerHTML = array[0];
                _("num_orders").innerHTML = array[1];
                _("num_sales").innerHTML = array[2];
                _("num_items").innerHTML = array[3];
                _("num_customers").innerHTML = array[4];
                _("num_transactions").innerHTML = array[5];
            }
        } 
    }
    ajax.send("action=get_numbers");
}
function getActivityLog(past_time) {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Error loading acticity logs.", "black");
            } else {
                _("activity_log").innerHTML = ajax.responseText.trim();
            }
        } 
    }
    ajax.send("action=get_activity_logs&past_time="+past_time);
}
function uploadItem() {
    var caption = _("caption").value;
    var brand = _("brand").value;
    //var size = _("size").value;
    //var condition = _("condition").value;
    var price_new = _("price_new").value;
    //var price_used = _("price_used").value;
    var season = _("season").value;
    var pic = _("file_selector_settings").src;
    var category = _("subcategories").value;
    var sizes = _("size_chart").value;
    if(caption == "" || brand == "" || season == "" || category == "" || sizes == "") {
        status("Fill in all the inputs to upload", "black");
    } else if(pic == "https://scavengg.com/photos/image_placeholder.jpg") {
        status("Choose a picture for this product.", "black");
    } else if(price_new == "") {
        status("Enter item price.", "black");
    } else {
        loading("open");
        _("upload_btn").disabled = true;
        //var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
        var ajax = ajaxObj("POST", 'https://katnco.ca/scavengg/php_parsers/dash.php');
        ajax.onreadystatechange = function () {
            if (ajaxReturn(ajax) == true) {
                if(ajax.responseText.trim() == "upload_success") {
                    $('#settings_image').submit(); // now, upload associated image to item
                } else {
                    status("Error uploading product.");
                }
            }
        }
        ajax.send("action=upload_item&caption="+caption+"&brand="+brand+"&price_new="+price_new+"&season="+season+"&category="+category+"&sizes="+sizes);
    }
}
function newsletter(action) {
    var news_title = _("news_title").value;
    var news_text = _("news_text").value;
    var news_img = _("news_file_selector_settings").src;
    var stock_img = "https://scavengg.com/photos/img_placeholder.png";
    if(news_img != stock_img) {
        var hasPicture = 'true';
    } else {
        var hasPicture = 'false';
    }
    if(news_title == "" || news_text.length < 10) {
        status("Enter a title and a longer text.", "black");
        flyout("close");
    } else {
        if(news_img != stock_img && action == "send") {
            $('#news_image').submit();
            return;
        }
            var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
            ajax.onreadystatechange = function() {
                if(ajaxReturn(ajax) == true) {
                    if(ajax.responseText == ""){    
                        status("Error with newsletter.", "black");
                    } else {
                        if(action == "preview") {
                            _("flyout").innerHTML = ajax.responseText;
                            if(news_img != stock_img) {
                                _("news_img").style.display = 'block';
                                _("news_img").src = news_img;
                            }
                            status("Previewing newsletter message");
                        } else {
                            flyout("close");
                            status("Newsletter sent successfully!");
                            dashboard();
                        }
                    }
                } 
            }
            ajax.send("action=newsletter_"+action+"&news_title="+news_title+"&news_text="+news_text+"&hasPicture="+hasPicture);
        
    }

}
function textUser(uid, msg) {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Could not notify user by SMS.", "black");
            } else {
                var array = ajax.responseText.split('|');
                var message = ""+array[1]+", "+msg+"";
                sms("+1"+array[0]+"", "Notification", "Scavengg", message);
                status(""+array[1]+" was notified by SMS.");
            }
        } 
    }
    ajax.send("action=get_phone_number&uid="+uid);
}
function payedByUs(tran_id, input) {
    var amount_payed_by_scavengg = _(""+input+"").value;
    if(amount_payed_by_scavengg) {
        var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
        ajax.onreadystatechange = function() {
            if(ajaxReturn(ajax) == true) {
                if(ajax.responseText == ""){    
                    status("Error saving amount payed by Scavengg.", "black");
                } else {
                    status("Saved");
                    flyout('close');
                }
            } 
        }
        ajax.send("action=save_amount_payed_by_scavengg&tran_id="+tran_id+"&amount_payed_by_scavengg="+amount_payed_by_scavengg);
    } else {
        status("Enter an amount.", "black");
    }

}
function userNotify(type, input_elem, to) {
    var msg = _(""+input_elem+"").value;
    if(msg != "" && msg.length > 10) {
        if(type == "sms") {
            sms("+1"+to+"", "Notification", "Scavengg", msg);
            status("Notified by SMS.");
        } else { // email
            var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
            ajax.onreadystatechange = function() {
                if(ajaxReturn(ajax) == true) {
                    if(ajax.responseText == ""){    
                        status("Error sending email to user.", "black");
                    } else {
                        status("Notified by Email.");
                    }
                } 
            }
            ajax.send("action=send_email_notification&msg="+msg+"&to="+to);
        }   
    } else {
        status("Message must be at least 10 characters long.", "black");
    }

}
function switchToggle(cb, table, col, id, userid) {
    if(cb.checked) { // is checked (true)
        if(table == "carts") {
            toggle(table, col, id, 'delivered');
            textUser(userid, "your recent Scavengg order has been shipped. Thank you.");
        } else if(table == "requests") {
            toggle(table, col, id, 'completed');
            textUser(userid, "your custom request is now available on scavengg.com. Search for the item you requested. Hope to see you soon! https://scavengg.com/");
        } else {    
            toggle(table, col, id, '1');
        }
    } else {
        if(table == "carts") {
            toggle(table, col, id, 'payed');
        } else if(table == "requests") {
            toggle(table, col, id, 'pending');
        } else {    
            toggle(table, col, id, '0');
        }
    }
}
function toggle(table, col, id, value) {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Error toggling switch.", "black");
            } else {
                dashboard();
            }
        } 
    }
    ajax.send("action=toggle_switch&table="+table+"&col="+col+"&id="+id+"&value="+value);
}
function toggleStatus(table, col, id, value) {
    var ajax = ajaxObj("POST", 'https://scavengg.com/php_parsers/dash.php');
    ajax.onreadystatechange = function() {
        if(ajaxReturn(ajax) == true) {
            if(ajax.responseText == ""){    
                status("Error toggling status.", "black");
            } else {
                dashboard();
                if(table == "carts" && value == "delivered") {
                    textUser(ajax.responseText, "your recent Scavengg order has been delivered  q. Thank you.");
                }
            }
        } 
    }
    ajax.send("action=toggle_status&table="+table+"&col="+col+"&id="+id+"&value="+value);
}
function dashboard() {
    //Load Size Chart
    sizeChart('size_chart');
    //Load Subcategories
    subcategories('subcategories');
    //Load all Users
    getUsers();
    //Load Full Store
    getStore();
    //Load all Sales and Orders
    getSalesOrders();
    //Load Transactions
    getTransactions();
    //Load Requests
    getRequests();
    //Load Promotions
    getPromotions();
    //Load Numbers within each section
    getNumbers();
    //Load Activity Log
    getActivityLog(1);

    //katnco.ca
    flyout("view_item_details", 595);
}
function search(terms) {
    var rows = _class("search_store");
    var results = "";
    if(terms != "") {
        for(var i=0; i < 5; i++) {
            var id = rows[i].id.split('search_store_')[1];
            var str = _("item_caption_"+id+"").innerHTML;
            //if(str.indexOf(terms) > -1) {
                results += '<tr>'+_("search_store"+id+"").innerHTML+'</tr>';                
            //}
        }
        _("search_store").innerHTML = '<table class="table table-hover console_table">'+results+'</table>';
    } else {
        _("search_store").innerHTML = '';
    }
}
function hash(s) {
    /* Simple hash function. */
    var a = 1, c = 0, h, o;
    if (s) {
        a = 0;
        /*jshint plusplus:false bitwise:false*/
        for (h = s.length - 1; h >= 0; h--) {
            o = s.charCodeAt(h);
            a = (a<<6&268435455) + o + (o<<14);
            c = a & 266338304;
            a = c!==0?a^c>>21:a;
        }
    }
    return String(a);
}
function checkAuth(k) {
    if(hash(k) == '80915349') {
        _("auth").style.display = 'none';
        _("page").style.overflowY = 'auto';
    } else {
        _("auth").style.display = 'block';
        _("page").style.overflowY = 'hidden';
    }
}
var brands = ["Supreme", "Palace", "Nike", "Adidas", "Jordan", "Fila", "Reebok", "Converse", "Vans", "Off White", "Y3", "Acne Studios"];
var seasons = ["S/S 16", "F/W 16", "S/S 17", "F/W 17", "S/S 18", "2013", "2014", "2015", "2016", "2017", "2018"];
document.addEventListener('DOMContentLoaded', function(){

    //checkAuth();
    dashboard();
    autocomplete(_("brand"), brands);
    autocomplete(_("season"), seasons);

});
</script>

<body id="page">

    <div id="status_bar"></div>
    <div id="loading">
        <div class="loading_logo pulse"></div>
        <!--
        <div class="spinner">
            <div class="double-bounce1"></div>
            <div class="double-bounce2"></div>        
        </div>
        -->
    </div>

    <div id="flyout"></div>
    <div id="skin" onclick="flyout('close')"></div>

    <div id="auth">
        <div class="auth_text">SCAVENGG ADMIN</div>
        <input id="auth_key_input" onkeyup="checkAuth(this.value)" type="password" placeholder="******" autocomplete="off" maxlength="25">
    </div>

    <div id="menu">

        <div class="comp_name" onclick="dashboard()" style="cursor:pointer;">
            <div class="logo"></div>
        </div>

        <a id="dash_link" href="#dash_div">
        <div class="tab">
            Activity
        </div>
        </a>

        <a id="requests_link" href="#requests_div">
        <div class="tab">
            Requests <span id="num_requests" class="badge"></span>
        </div>
        </a>

        <a id="orders_link" href="#orders_div">
        <div class="tab">
            Orders <span id="num_orders" class="badge"></span>
        </div>
        </a>

        <a id="sales_link" href="#sales_div">
        <div class="tab">
            Sales <span id="num_sales" class="badge"></span>
        </div>
        </a>

        <a id="store_link" href="#store_div">
        <div class="tab">
            Store <span id="num_items" class="badge"></span>
        </div>
        </a>

        <a id="users_link" href="#users_div">
        <div class="tab">
             Customers <span id="num_customers" class="badge"></span>
        </div>
        </a>

        <a id="transactions_link" href="#transactions_div">
        <div class="tab">
            Transactions <span id="num_transactions" class="badge"></span>
        </div>
        </a>

        <a id="promo_link" href="#promo_div">
        <div class="tab">
             Promotions
        </div>
        </a>

        <a id="db_link" href="#db_div">
        <div class="tab">
            Database
        </div>
        </a>

    </div>

    <div id="dash_div" class="dash_boxes">
        <div class="title">Activity Log</div>
        <select class="dash_inputs" onchange="getActivityLog(this.value)">
            <option value="1">past hour</option>
            <option value="12">past 12 hours</option>
            <option value="24">past day</option>
            <option value="week">past week</option>
            <option value="month">past month</option>
            <option value="year">past year</option>
        </select>
        <div id="activity_log"></div>
    </div>

    <div id="requests_div" class="dash_boxes">
        <div class="title"> Requests</div>
        <div id="all_requests"></div>
    </div>

    <div id="orders_div" class="dash_boxes">
        <div class="title"> Orders</div>
        <div id="all_orders"></div>
    </div>

    <div id="sales_div" class="dash_boxes">
        <div class="title">Sales</div>
        <div id="all_sales"></div>
    </div>

    <div id="store_div" class="dash_boxes">
        <div class="title">Store</div>
        <!--<input class="dash_inputs" onkeyup="search(this.value)" placeholder="Search store">
        <div id="search_store"></div>-->
        <div id="all_store"></div>
    </div>

    <div id="users_div" class="dash_boxes">
        <div class="title">Customers</div>
        <div id="all_users"></div>
    </div>

    <div id="transactions_div" class="dash_boxes">
        <div class="title">Transactions</div>
        <div id="all_transactions"></div>
    </div>

    <div id="promo_div" class="dash_boxes">
        <div class="title">Promotions</div>
        <div id="all_promotions"></div>
        <hr>
        <div class="title">Weekly News</div>
        <div id="weekly_news">
            <input id="news_title" class="dash_inputs" placeholder="News title" maxlength="50">
            <textarea id="news_text" class="news_text" placeholder="Enter news text"></textarea>
            <form id="news_image" action="" method="post" enctype="multipart/form-data">
                    <label for="news_file_settings">
                        <img id="news_file_selector_settings" class="settings_previewing" src="https://scavengg.com/photos/img_placeholder.png">
                        <input type="file" name="news_file_settings" id="news_file_settings" required />
                    </label>
            </form>
            <button class="dash_btns" onclick="flyout('newsletter_preview')">Preview</button>
        </div>
    </div>

    <div id="db_div" class="dash_boxes">
        <div class="title"> Database</div>
            <hr>

            <form id="settings_image" style="border-radius:2px;" action="" method="post" enctype="multipart/form-data">

                <div id="avatar_preview" style="border-radius:2px;">
                    <label for="file_settings" id="file_label_settings">
                        <img id="file_selector_settings" class="settings_previewing" src="https://scavengg.com/photos/img_placeholder.png">
                        <input type="file" name="file_settings" id="file_settings" required />
                    </label>
                </div>
            </form>

            <input id="caption" class="dash_inputs" placeholder="Description" autocomplete="off" maxlength="100">
            <select id="subcategories" class="dash_inputs"></select>
            <div class="autocomplete">
                <input id="brand" class="dash_inputs" placeholder="Brand Name" autocomplete="off">
            </div>
            <select id="size_chart" class="dash_inputs"></select>
            <div class="autocomplete">
                <input id="season" class="dash_inputs" placeholder="Season" autocomplete="off"><br>
            </div>
            <input id="price_new" class="dash_inputs_half" placeholder="Price New" onkeypress="return event.charCode >= 48 && event.charCode <= 57" autocomplete="off" maxlength="10">
            <!--<input id="price_used" class="dash_inputs_half" placeholder="Price Used" onkeypress="return event.charCode >= 48 && event.charCode <= 57" autocomplete="off" maxlength="10">-->
            <div class="small_mess">* Taxes will be added at checkout</div>
            <button id="upload_btn" class="dash_btns" onclick="uploadItem()">Upload</button>
            <hr>

            <div class="dash_title_divider hover" onclick="toggleTable('subcat_chart_ref')">+ View Categories Chart</div>
            <div id="subcat_chart_ref" class="dash_table"></div>

            <div class="dash_title_divider hover" onclick="toggleTable('size_chart_ref')">+ View Sizes Chart</div>
            <div id="size_chart_ref" class="dash_table"></div>
            
    </div>


</body>
</html>